(this.webpackJsonpreuse_refactor_recycle=this.webpackJsonpreuse_refactor_recycle||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(17),r=c.n(a),j=(c(23),c(24),c(2)),i=c(4),o=c(5),l=c.n(o),b=c(0),d=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(i.a)(a,2),o=r[0],d=r[1];return Object(n.useEffect)((function(){l.a.get("http://localhost:8000/api/authors").then((function(e){s(e.data.Authors),null!==c[0]&&d(!0),console.log({allAuthors:e.data.Authors})})).catch((function(e){return console.log(e)}))}),[]),Object(b.jsx)("div",{children:o?Object(b.jsx)("table",{children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)("b",{children:"Authors"})}),Object(b.jsx)("th",{children:Object(b.jsx)("b",{children:"Actions"})})]}),c.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{style:{color:"blue"},children:e.name},t),Object(b.jsxs)("td",{children:[Object(b.jsx)(j.a,{to:"/edit/"+e._id,children:Object(b.jsx)("button",{style:{background:"linear-gradient(#e66465, #9198e5)",width:"50px",height:"20px",marginRight:"2px"},children:"edit"})}),Object(b.jsx)(j.a,{to:"/delete/"+e._id,children:Object(b.jsx)("button",{style:{background:"linear-gradient(#e66465, #9198e5)",width:"50px",height:"20px"},children:"delete"})})]})]})}))]})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("table",{children:Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)("b",{children:"Authors"})}),Object(b.jsx)("th",{children:Object(b.jsx)("b",{children:"Actions"})})]})})}),Object(b.jsx)("p",{style:{opacity:.3},children:"fetching data..."})]})})},h=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(j.a,{to:"/new",children:"Add an Author"}),Object(b.jsx)("h4",{className:"blue",children:"we have quotes by:"}),Object(b.jsx)(d,{})]})},u=function(e){var t=e.name,c=e.submitValue,s=e.onSubmitProp,a=Object(n.useState)(t),r=Object(i.a)(a,2),o=r[0],l=r[1];return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s({name:o})},children:[Object(b.jsx)("label",{children:"name:"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"text",onChange:function(e){return l(e.target.value)},placeholder:"Author Name",value:o}),Object(b.jsx)("br",{}),Object(b.jsx)(j.a,{to:"/",children:Object(b.jsx)("input",{type:"submit",value:"Cancel"})}),Object(b.jsx)("input",{type:"submit",value:c})]})})},O=function(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),s=c[0],a=c[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(j.a,{to:"/",children:"Home"}),Object(b.jsx)("h4",{className:"blue",children:"add a new authour"}),Object(b.jsx)(u,{onSubmitProp:function(e){l.a.post("http://localhost:8000/api/author/new",e).then((function(e){console.log({"addAuthor(post)":e.data}),e.data.errorMessage?a(e.data.errorMessage.errors.name.message):Object(j.c)("/")})).catch((function(e){return console.log(e)}))},name:"",submitValue:"Add"}),Object(b.jsx)("p",{children:s})]})},x=function(e){var t=Object(n.useState)({}),c=Object(i.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(!1),o=Object(i.a)(r,2),d=o[0],h=o[1],O=Object(n.useState)(""),x=Object(i.a)(O,2),p=x[0],f=x[1];Object(n.useEffect)((function(){l.a.get("http://localhost:8000/api/author/"+e.id).then((function(e){a(e.data[0]),console.log({"update(get)":e.data[0]}),s&&h(!0)}))}),[]);return Object(b.jsxs)("div",{children:[Object(b.jsx)(j.a,{to:"/",children:"Home"}),Object(b.jsx)("h4",{className:"blue",children:"edit this author"}),d?Object(b.jsx)(u,{onSubmitProp:function(t){l.a.put("http://localhost:8000/api/edit/"+e.id,t).then((function(e){console.log({"update(put)":e.data}),e.data.errorMessage?f(e.data.errorMessage.errors.name.message):Object(j.c)("/")})).catch((function(e){return console.log(e)}))},name:s.name,submitValue:"update"}):Object(b.jsx)("p",{style:{opacity:.3},children:"fetching data..."}),Object(b.jsx)("p",{children:p})]})},p=function(e){return l.a.delete("http://localhost:8000/api/delete/"+e.id).then((function(e){console.log({"button(delete)":e}),Object(j.c)("/")})).catch((function(e){return console.log(e.json)})),Object(b.jsxs)("div",{children:[Object(b.jsx)(j.a,{to:"/new",children:"Add an Author"}),Object(b.jsx)("h4",{className:"blue",children:"we have quotes by:"}),Object(b.jsx)("h3",{children:"deleting..."})]})};var f=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("h1",{children:"Favorite Authors"}),Object(b.jsxs)(j.b,{children:[Object(b.jsx)(h,{path:"/"}),Object(b.jsx)(O,{path:"/new"}),Object(b.jsx)(x,{path:"/edit/:id"}),Object(b.jsx)(p,{path:"/delete/:id"})]})]})},g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,51)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root")),g()}},[[50,1,2]]]);
//# sourceMappingURL=main.69198ac5.chunk.js.map